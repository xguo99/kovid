{"version":3,"sources":["webpack:///./src/views/BusinessAccount.vue?328e","webpack:///./src/views/BusinessAccount.vue?bc81","webpack:///./src/components/BusinessSignUp.vue?0cc6","webpack:///src/components/BusinessSignUp.vue","webpack:///./src/components/BusinessSignUp.vue?ccc5","webpack:///./src/components/BusinessSignUp.vue?93a6","webpack:///./src/components/BusinessSignIn.vue?8fb8","webpack:///src/components/BusinessSignIn.vue","webpack:///./src/components/BusinessSignIn.vue?3071","webpack:///./src/components/BusinessSignIn.vue?c351","webpack:///src/views/BusinessAccount.vue","webpack:///./src/views/BusinessAccount.vue?5b33","webpack:///./src/views/BusinessAccount.vue?85a5","webpack:///./src/components/BusinessSignUp.vue?411b","webpack:///./src/components/BusinessSignIn.vue?3e83"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","success","staticStyle","_l","success_message","key","id","_s","_e","errors","error","staticRenderFns","on","$event","preventDefault","validate","directives","name","rawName","value","expression","modifiers","domProps","target","composing","username","trim","$forceUpdate","password","businessName","address","data","created","methods","response","length","map","resetForm","clearMessages","setInterval","component","signin","components","isSignedIn"],"mappings":"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","file":"js/chunk-e722b0ec.ca29dc4f.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessAccount.vue?vue&type=style&index=0&id=02c90df8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessAccount.vue?vue&type=style&index=0&id=02c90df8&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"user-settings\"}},[_c('div',{staticClass:\"Map\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Interactive Map\")])],1),_c('div',{staticClass:\"signin-signup\"},[_c('BusinessSignIn'),_c('BusinessSignUp')],1),(_vm.success.length)?_c('div',{staticClass:\"success-message\",staticStyle:{\"text-align\":\"center\"}},_vm._l((_vm.success),function(success_message){return _c('div',{key:success_message.id},[_vm._v(_vm._s(success_message))])}),0):_vm._e(),(_vm.errors.length)?_c('div',{staticClass:\"error-message\",staticStyle:{\"width\":\"250px\"}},[_c('b',[_vm._v(\"Please correct the following error(s):\")]),_c('ul',_vm._l((_vm.errors),function(error){return _c('li',{key:error.id},[_vm._v(_vm._s(error))])}),0)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"signup\"},[_c('form',{staticClass:\"component\",attrs:{\"id\":\"sign-up\",\"method\":\"post\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.validate($event)}}},[_c('div',{staticClass:\"header\"},[_vm._v(\" Sign Up \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.username),expression:\"username\",modifiers:{\"trim\":true}}],attrs:{\"id\":\"username\",\"type\":\"text\",\"name\":\"username\",\"placeholder\":\"User's name\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.password),expression:\"password\",modifiers:{\"trim\":true}}],attrs:{\"id\":\"password\",\"type\":\"text\",\"name\":\"password\",\"placeholder\":\"User's password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.businessName),expression:\"businessName\",modifiers:{\"trim\":true}}],attrs:{\"id\":\"businessName\",\"type\":\"text\",\"name\":\"businessName\",\"placeholder\":\"Business name\"},domProps:{\"value\":(_vm.businessName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.businessName=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.address),expression:\"address\",modifiers:{\"trim\":true}}],attrs:{\"id\":\"address\",\"type\":\"text\",\"name\":\"address\",\"placeholder\":\"Business address\"},domProps:{\"value\":(_vm.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.address=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('input',{staticClass:\"button\",attrs:{\"type\":\"submit\",\"value\":\"Sign Up\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"signup\">\n    <form id=\"sign-up\" class='component' v-on:submit.prevent=\"validate\" method=\"post\">\n      <div class=\"header\">\n        Sign Up\n      </div>\n      <input id='username' v-model.trim='username' type='text' name='username' placeholder=\"User's name\">\n      <input id='password' v-model.trim='password' type='text' name='password' placeholder=\"User's password\">\n      <input id='businessName' v-model.trim='businessName' type='text' name='businessName' placeholder=\"Business name\">      \n      <input id='address' v-model.trim='address' type='text' name='address' placeholder=\"Business address\">\n      <input type='submit' value='Sign Up' class=\"button\">\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { eventBus } from \"../main\";\n\nexport default {\n  name: \"BusinessSignUp\",\n\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      businessName: \"\",\n      address: \"\",\n    }\n  },\n\n  created: function() {\n      eventBus.$on(\"validate-success\", () => {\n        const bodyContent = { username: this.username, password: this.password, businessName: this.businessName, address: this.address};\n          axios\n            .post(\"/api/business\", bodyContent)\n            .then(() => {\n              // handle success\n              eventBus.$emit('business-signup-success', true);\n            })\n            .catch(err => {\n              // handle error\n              eventBus.$emit('business-signup-error', err.response.data.error);\n            });\n      });\n  },\n\n  methods:{\n    validate: function() {\n      axios\n      .get(`https://data.cambridgema.gov/resource/9q33-qjp4.json?name=${this.businessName}&$$app_token=ERObVliHkBTapyjk2U0736EEU`)\n      .then((response)=>{\n        if (response.data.length === 0){ \n          eventBus.$emit('business-signup-error', `According to the government database, the entered business does not exist.`);\n        } else {\n          if (response.data.map(b => b.phone).filter(e => e === this.address).length > 0){\n            eventBus.$emit(\"validate-success\");\n          } else{\n            eventBus.$emit('business-signup-error', `According to the government database, the entered address does not match the business.`);\n          }\n        }\n      })\n      .catch(() => {\n        eventBus.$emit('business-signup-error', `trouble connecting to Cambridge government database.`);\n        this.errors.push(`trouble connecting to Cambridge government database.`);\n      })\n      .then(() => {\n        this.resetForm();\n      });\n    },\n\n    resetForm: function() {\n      this.username = \"\";\n      this.password = \"\";\n      this.businessName = \"\",\n      this.address = \"\";\n    },\n\n    clearMessages: function() {\n      setInterval(() => {\n        this.errors = [];\n      }, 5000);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.signup{\n  width: 50%;\n  display: flex;\n  justify-content: left;\n  margin-top: 120px;\n}\n.header{\n  margin-bottom: 10px;\n  font-size: 2em;\n  text-align: center;\n}\nform {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: fit-content;\n  padding-left: 50px;\n}\n\ninput[type=\"text\"],\ninput[type=\"url\"] {\n  width: 15rem;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessSignUp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessSignUp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BusinessSignUp.vue?vue&type=template&id=602422f2&scoped=true&\"\nimport script from \"./BusinessSignUp.vue?vue&type=script&lang=js&\"\nexport * from \"./BusinessSignUp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BusinessSignUp.vue?vue&type=style&index=0&id=602422f2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"602422f2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"signin\"},[_c('form',{staticClass:\"component\",attrs:{\"id\":\"sign-in\",\"method\":\"post\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.signin($event)}}},[_c('div',{staticClass:\"header\"},[_vm._v(\" Sign In \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.username),expression:\"username\",modifiers:{\"trim\":true}}],attrs:{\"id\":\"username\",\"type\":\"text\",\"name\":\"username\",\"placeholder\":\"User's name\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.password),expression:\"password\",modifiers:{\"trim\":true}}],attrs:{\"id\":\"password\",\"type\":\"text\",\"name\":\"password\",\"placeholder\":\"User's password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.address),expression:\"address\",modifiers:{\"trim\":true}}],attrs:{\"id\":\"address\",\"type\":\"text\",\"name\":\"address\",\"placeholder\":\"Business address\"},domProps:{\"value\":(_vm.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.address=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('input',{staticClass:\"button\",attrs:{\"type\":\"submit\",\"value\":\"Sign In\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"signin\">\n    <form id=\"sign-in\" class='component' v-on:submit.prevent=\"signin\" method=\"post\">\n      <div class=\"header\">\n        Sign In\n      </div>\n      <input id='username' v-model.trim='username' type='text' name='username' placeholder=\"User's name\">\n      <input id='password' v-model.trim='password' type='text' name='password' placeholder=\"User's password\">\n      <input id='address' v-model.trim='address' type='text' name='address' placeholder=\"Business address\">\n      <input type='submit' value='Sign In' class=\"button\">\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { eventBus } from \"../main\";\n\nexport default {\n  name: \"BusinessSignUp\",\n\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      address: \"\",\n    }\n  },\n\n  created: function() {\n  },\n\n  methods:{\n    signin: function(){\n      const bodyContent = { username: this.username,\n                            password: this.password,\n                            address: this.address\n                          };\n      axios\n          .post(\"/api/business/signin\", bodyContent)\n          .then((res) => {\n            // handle success\n            eventBus.$emit('business-signin-success', res.data.businessname);\n          })\n          .catch(err => {\n            // handle error\n            eventBus.$emit('business-signin-error', err.response.data.error);\n          })\n          .then(() => {\n            // always executed\n            this.resetForm();\n          });\n    },\n\n    resetForm: function() {\n      this.username = \"\";\n      this.password = \"\";\n      this.address = \"\";\n    },\n\n    clearMessages: function() {\n      setInterval(() => {\n        this.errors = [];\n      }, 5000);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.signin{\n  width: 50%;\n  display: flex;\n  justify-content: right;\n  margin-top: 120px;\n}\n.header{\n  margin-bottom: 10px;\n  font-size: 2em;\n  text-align: center;\n}\nform {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: fit-content;\n  padding-right: 50px;\n  margin-left: 50%;\n}\n\ninput[type=\"text\"],\ninput[type=\"url\"] {\n  width: 15rem;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessSignIn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessSignIn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BusinessSignIn.vue?vue&type=template&id=afede336&scoped=true&\"\nimport script from \"./BusinessSignIn.vue?vue&type=script&lang=js&\"\nexport * from \"./BusinessSignIn.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BusinessSignIn.vue?vue&type=style&index=0&id=afede336&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"afede336\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"user-settings\">\n    <div class=\"Map\">\n      <router-link to=\"/\">Interactive Map</router-link>\n    </div>\n\n    <div class=\"signin-signup\">\n      <BusinessSignIn/>\n      <BusinessSignUp/>\n    </div>\n\n    <div v-if='success.length' class=\"success-message\" style=\"text-align:center;\">\n      <div v-for='success_message in success' v-bind:key='success_message.id'>{{ success_message }}</div>\n    </div>\n    <div v-if='errors.length' class=\"error-message\" style=\"width: 250px;\">\n      <b>Please correct the following error(s):</b>\n      <ul>\n        <li v-for='error in errors' v-bind:key='error.id'>{{ error }}</li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BusinessSignUp from \"../components/BusinessSignUp.vue\";\nimport BusinessSignIn from \"../components/BusinessSignIn.vue\";\nimport { eventBus } from \"../main\";\n\nexport default {\n  name: \"BusinessAccount\",\n\n  components: {\n      BusinessSignUp,\n      BusinessSignIn\n  },\n\n  data() {\n    return {\n      isSignedIn: false,\n      success: [],\n      errors: []\n    };\n  },\n\n  created: function() {\n    eventBus.$on(\"business-signup-success\", () => {\n      this.success.push(\"Signup completed successfully.\");\n      this.clearMessages();\n    });\n\n    eventBus.$on(\"business-signup-error\", (err) => {\n      this.errors.push(err);\n      this.clearMessages();\n    });\n\n    eventBus.$on(\"business-signin-success\", () => {\n      this.success.push(\"Signin completed successfully.\");\n      this.clearMessages();\n    });\n\n    eventBus.$on(\"business-signin-error\", (err) => {\n      this.errors.push(err);\n      this.clearMessages();\n    });\n\n  },\n\n  methods: {\n    clearMessages: function() {\n      setInterval(() => {\n        this.success = [];\n        this.errors = [];\n      }, 5000);\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n  .Map{\n      font-size: x-large;\n  }\n  .signin-signup{\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n}\n\n  .error-message{\n    margin-top: 10px;\n  }\n  .success-message{\n    margin-top: 10px;\n  }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessAccount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessAccount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BusinessAccount.vue?vue&type=template&id=02c90df8&scoped=true&\"\nimport script from \"./BusinessAccount.vue?vue&type=script&lang=js&\"\nexport * from \"./BusinessAccount.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BusinessAccount.vue?vue&type=style&index=0&id=02c90df8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02c90df8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessSignUp.vue?vue&type=style&index=0&id=602422f2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessSignUp.vue?vue&type=style&index=0&id=602422f2&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessSignIn.vue?vue&type=style&index=0&id=afede336&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessSignIn.vue?vue&type=style&index=0&id=afede336&scoped=true&lang=css&\""],"sourceRoot":""}