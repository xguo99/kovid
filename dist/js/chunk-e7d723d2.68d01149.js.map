{"version":3,"sources":["webpack:///./src/views/BusinessAccount.vue?16cb","webpack:///./src/components/BusinessSignUp.vue?e1ef","webpack:///src/components/BusinessSignUp.vue","webpack:///./src/components/BusinessSignUp.vue?ccc5","webpack:///./src/components/BusinessSignUp.vue?93a6","webpack:///./src/components/BusinessSignIn.vue?efa3","webpack:///src/components/BusinessSignIn.vue","webpack:///./src/components/BusinessSignIn.vue?3071","webpack:///./src/components/BusinessSignIn.vue?c351","webpack:///./src/components/BusinessSignOut.vue?950f","webpack:///src/components/BusinessSignOut.vue","webpack:///./src/components/BusinessSignOut.vue?4b56","webpack:///./src/components/BusinessSignOut.vue?8bd5","webpack:///src/views/BusinessAccount.vue","webpack:///./src/views/BusinessAccount.vue?5b33","webpack:///./src/views/BusinessAccount.vue?85a5","webpack:///./src/components/BusinessSignUp.vue?6425","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/views/BusinessAccount.vue?811b","webpack:///./src/components/BusinessSignIn.vue?dc73","webpack:///./src/components/BusinessSignOut.vue?790a"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","isSignedIn","success","staticStyle","_l","success_message","key","id","_s","_e","errors","error","staticRenderFns","on","$event","preventDefault","validate","directives","name","rawName","value","expression","modifiers","domProps","target","composing","username","trim","$forceUpdate","password","businessName","address","data","created","methods","response","length","map","resetForm","clearMessages","setInterval","component","signin","signOut","components","authenticated","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","get","match","e"],"mappings":"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","file":"js/chunk-e7d723d2.68d01149.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"user-settings\"}},[_c('div',{staticClass:\"Map\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Interactive Map\")])],1),(!_vm.isSignedIn)?_c('div',{staticClass:\"signin-signup\"},[_c('BusinessSignIn'),_c('BusinessSignUp')],1):_c('div',{staticClass:\"signout\"},[_c('BusinessSignOut')],1),(_vm.success.length)?_c('div',{staticClass:\"success-message\",staticStyle:{\"text-align\":\"center\"}},_vm._l((_vm.success),function(success_message){return _c('div',{key:success_message.id},[_vm._v(_vm._s(success_message))])}),0):_vm._e(),(_vm.errors.length)?_c('div',{staticClass:\"error-message\",staticStyle:{\"width\":\"250px\"}},[_c('b',[_vm._v(\"Please correct the following error(s):\")]),_c('ul',_vm._l((_vm.errors),function(error){return _c('li',{key:error.id},[_vm._v(_vm._s(error))])}),0)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"signup\"},[_c('form',{staticClass:\"component\",attrs:{\"id\":\"sign-up\",\"method\":\"post\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.validate($event)}}},[_c('div',{staticClass:\"header\"},[_vm._v(\" Sign Up \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.username),expression:\"username\",modifiers:{\"trim\":true}}],attrs:{\"id\":\"username\",\"type\":\"text\",\"name\":\"username\",\"placeholder\":\"User's name\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.password),expression:\"password\",modifiers:{\"trim\":true}}],attrs:{\"id\":\"password\",\"type\":\"text\",\"name\":\"password\",\"placeholder\":\"User's password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.businessName),expression:\"businessName\",modifiers:{\"trim\":true}}],attrs:{\"id\":\"businessName\",\"type\":\"text\",\"name\":\"businessName\",\"placeholder\":\"Business name\"},domProps:{\"value\":(_vm.businessName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.businessName=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.address),expression:\"address\",modifiers:{\"trim\":true}}],attrs:{\"id\":\"address\",\"type\":\"text\",\"name\":\"address\",\"placeholder\":\"Business address\"},domProps:{\"value\":(_vm.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.address=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('input',{staticClass:\"button\",attrs:{\"type\":\"submit\",\"value\":\"Sign Up\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"signup\">\n    <form id=\"sign-up\" class='component' v-on:submit.prevent=\"validate\" method=\"post\">\n      <div class=\"header\">\n        Sign Up\n      </div>\n      <input id='username' v-model.trim='username' type='text' name='username' placeholder=\"User's name\">\n      <input id='password' v-model.trim='password' type='text' name='password' placeholder=\"User's password\">\n      <input id='businessName' v-model.trim='businessName' type='text' name='businessName' placeholder=\"Business name\">      \n      <input id='address' v-model.trim='address' type='text' name='address' placeholder=\"Business address\">\n      <input type='submit' value='Sign Up' class=\"button\">\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { eventBus } from \"../main\";\n\nexport default {\n  name: \"BusinessSignUp\",\n\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      businessName: \"\",\n      address: \"\",\n    }\n  },\n\n  created: function() {\n      eventBus.$on(\"validate-success\", (res) => {\n        const bodyContent = { username: this.username, password: this.password, \n                              businessName: this.businessName, address: this.address,\n                              status: res[0].status, modification: res[0].modification};\n        axios\n          .post(\"/api/business\", bodyContent)\n          .then(() => {\n            // handle success\n            eventBus.$emit('business-signup-success', true);\n          })\n          .catch(err => {\n            // handle error\n            eventBus.$emit('business-signup-error', err.response.data.error);\n          });\n      });\n  },\n\n  methods:{\n    validate: function() {\n      axios\n      .get(`https://data.cambridgema.gov/resource/9q33-qjp4.json?name=${this.businessName}&$$app_token=ERObVliHkBTapyjk2U0736EEU`)\n      .then((response)=>{\n        if (response.data.length === 0){ \n          eventBus.$emit('business-signup-error', `According to the government database, the entered business does not exist.`);\n        } else {\n          if (response.data.map(b => b.phone).filter(e => e === this.address).length > 0){\n            eventBus.$emit(\"validate-success\", response.data.filter(e => e.phone === this.address ));\n          } else{\n            eventBus.$emit('business-signup-error', `According to the government database, the entered address does not match the business.`);\n          }\n        }\n      })\n      .catch(() => {\n        eventBus.$emit('business-signup-error', `trouble connecting to Cambridge government database.`);\n        this.errors.push(`trouble connecting to Cambridge government database.`);\n      })\n      .then(() => {\n        this.resetForm();\n      });\n    },\n\n    resetForm: function() {\n      this.username = \"\";\n      this.password = \"\";\n      this.businessName = \"\",\n      this.address = \"\";\n    },\n\n    clearMessages: function() {\n      setInterval(() => {\n        this.errors = [];\n      }, 5000);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.signup{\n  width: 50%;\n  display: flex;\n  justify-content: left;\n  margin-top: 120px;\n}\n.header{\n  margin-bottom: 10px;\n  font-size: 2em;\n  text-align: center;\n}\nform {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: fit-content;\n  padding-left: 50px;\n}\n\ninput[type=\"text\"],\ninput[type=\"url\"] {\n  width: 15rem;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessSignUp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessSignUp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BusinessSignUp.vue?vue&type=template&id=1b87be1c&scoped=true&\"\nimport script from \"./BusinessSignUp.vue?vue&type=script&lang=js&\"\nexport * from \"./BusinessSignUp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BusinessSignUp.vue?vue&type=style&index=0&id=1b87be1c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b87be1c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"signin\"},[_c('form',{staticClass:\"component\",attrs:{\"id\":\"sign-in\",\"method\":\"post\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.signin($event)}}},[_c('div',{staticClass:\"header\"},[_vm._v(\" Sign In \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.username),expression:\"username\",modifiers:{\"trim\":true}}],attrs:{\"id\":\"username\",\"type\":\"text\",\"name\":\"username\",\"placeholder\":\"User's name\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.password),expression:\"password\",modifiers:{\"trim\":true}}],attrs:{\"id\":\"password\",\"type\":\"text\",\"name\":\"password\",\"placeholder\":\"User's password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('input',{staticClass:\"button\",attrs:{\"type\":\"submit\",\"value\":\"Sign In\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"signin\">\n    <form id=\"sign-in\" class='component' v-on:submit.prevent=\"signin\" method=\"post\">\n      <div class=\"header\">\n        Sign In\n      </div>\n      <input id='username' v-model.trim='username' type='text' name='username' placeholder=\"User's name\">\n      <input id='password' v-model.trim='password' type='text' name='password' placeholder=\"User's password\">\n      <input type='submit' value='Sign In' class=\"button\">\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { eventBus } from \"../main\";\n\nexport default {\n  name: \"BusinessSignIn\",\n\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n\n    }\n  },\n\n  created: function() {\n  },\n\n  methods:{\n    signin: function(){\n      const bodyContent = { username: this.username,\n                            password: this.password,\n                          };\n      axios\n          .post(\"/api/business/signin\", bodyContent)\n          .then((res) => {\n            // handle success\n            eventBus.$emit('business-signin-success', res.data.name);\n          })\n          .catch(err => {\n            // handle error\n            eventBus.$emit('business-signin-error', err.response.data.error);\n          })\n          .then(() => {\n            // always executed\n            this.resetForm();\n          });\n    },\n\n    resetForm: function() {\n      this.username = \"\";\n      this.password = \"\";\n    },\n\n    clearMessages: function() {\n      setInterval(() => {\n        this.errors = [];\n      }, 5000);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.signin{\n  width: 50%;\n  display: flex;\n  justify-content: right;\n  margin-top: 120px;\n}\n.header{\n  margin-bottom: 10px;\n  font-size: 2em;\n  text-align: center;\n}\nform {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: fit-content;\n  padding-right: 50px;\n  margin-left: 50%;\n}\n\ninput[type=\"text\"],\ninput[type=\"url\"] {\n  width: 15rem;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessSignIn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessSignIn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BusinessSignIn.vue?vue&type=template&id=3a3ce374&scoped=true&\"\nimport script from \"./BusinessSignIn.vue?vue&type=script&lang=js&\"\nexport * from \"./BusinessSignIn.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BusinessSignIn.vue?vue&type=style&index=0&id=3a3ce374&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a3ce374\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"signout\"},[_c('button',{on:{\"click\":_vm.signOut}},[_vm._v(\"Sign Out\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"signout\">\n    <button v-on:click=\"signOut\">Sign Out</button>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { eventBus } from \"../main\";\n\nexport default {\n  name: \"SignOut\",\n  \n  methods: {\n    signOut: function() {\n      axios.post('/api/business/signout',{})\n        .then(() => {\n          // handle success\n          eventBus.$emit('business-signout-success', {});\n        })\n        .catch((err) => {\n          // Still sign User out so they have to sign in again.\n          eventBus.$emit('business-signout-error', err.response);\n        })\n    }\n  }\n}\n</script>\n<style scoped>\n.signout{\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    margin-top: 120px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessSignOut.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessSignOut.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BusinessSignOut.vue?vue&type=template&id=42c01134&scoped=true&\"\nimport script from \"./BusinessSignOut.vue?vue&type=script&lang=js&\"\nexport * from \"./BusinessSignOut.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BusinessSignOut.vue?vue&type=style&index=0&id=42c01134&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42c01134\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"user-settings\">\n    <div class=\"Map\">\n      <router-link to=\"/\">Interactive Map</router-link>\n    </div>\n\n    <div v-if=\"!isSignedIn\" class=\"signin-signup\">\n      <BusinessSignIn/>\n      <BusinessSignUp/>\n    </div>\n    <div v-else class=\"signout\">\n      <BusinessSignOut/>\n    </div>\n\n    <div v-if='success.length' class=\"success-message\" style=\"text-align:center;\">\n      <div v-for='success_message in success' v-bind:key='success_message.id'>{{ success_message }}</div>\n    </div>\n    <div v-if='errors.length' class=\"error-message\" style=\"width: 250px;\">\n      <b>Please correct the following error(s):</b>\n      <ul>\n        <li v-for='error in errors' v-bind:key='error.id'>{{ error }}</li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BusinessSignUp from \"../components/BusinessSignUp.vue\";\nimport BusinessSignIn from \"../components/BusinessSignIn.vue\";\nimport BusinessSignOut from \"../components/BusinessSignOut.vue\";\nimport { eventBus } from \"../main\";\n\nexport default {\n  name: \"BusinessAccount\",\n\n  components: {\n      BusinessSignUp,\n      BusinessSignIn,\n      BusinessSignOut\n  },\n\n  data() {\n    return {\n      isSignedIn: false,\n      success: [],\n      errors: []\n    };\n  },\n\n  created: function() {\n    let authenticated = this.$cookie.get(\"auth\");\n    if (authenticated){\n      this.isSignedIn=true;\n    }\n    eventBus.$on(\"business-signup-success\", () => {\n      this.success.push(\"Signup completed successfully.\");\n      this.clearMessages();\n    });\n\n    eventBus.$on(\"business-signup-error\", (err) => {\n      this.errors.push(err);\n      this.clearMessages();\n    });\n\n    eventBus.$on(\"business-signin-success\", (businessname) => {\n      this.$cookie.set(\"auth\",businessname);\n      this.$cookie.set(\"account-type\",\"business\");\n      this.isSignedIn=true;\n      this.success.push(`Successfully signed in as ${businessname}.`);\n      this.clearMessages();\n    });\n\n    eventBus.$on(\"business-signin-error\", (err) => {\n      this.errors.push(err);\n      this.clearMessages();\n    });\n\n    eventBus.$on(\"business-signout-success\", () => {\n      this.$cookie.set(\"auth\",'');\n      this.$cookie.set(\"account-type\",'');\n      this.isSignedIn=false;\n      this.success.push(`Successfully signed out.`);\n      this.clearMessages();\n    });\n\n    eventBus.$on(\"business-signout-error\", (err) => {\n      this.errors.push(err);\n      this.clearMessages();\n    });\n\n  },\n\n  methods: {\n    clearMessages: function() {\n      setInterval(() => {\n        this.success = [];\n        this.errors = [];\n      }, 5000);\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n  .Map{\n      font-size: x-large;\n  }\n  .signin-signup{\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n}\n\n  .error-message{\n    margin-top: 10px;\n  }\n  .success-message{\n    margin-top: 10px;\n  }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessAccount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessAccount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BusinessAccount.vue?vue&type=template&id=bdbaa6a0&scoped=true&\"\nimport script from \"./BusinessAccount.vue?vue&type=script&lang=js&\"\nexport * from \"./BusinessAccount.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BusinessAccount.vue?vue&type=style&index=0&id=bdbaa6a0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bdbaa6a0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessSignUp.vue?vue&type=style&index=0&id=1b87be1c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessSignUp.vue?vue&type=style&index=0&id=1b87be1c&scoped=true&lang=css&\"","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessAccount.vue?vue&type=style&index=0&id=bdbaa6a0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessAccount.vue?vue&type=style&index=0&id=bdbaa6a0&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessSignIn.vue?vue&type=style&index=0&id=3a3ce374&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessSignIn.vue?vue&type=style&index=0&id=3a3ce374&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessSignOut.vue?vue&type=style&index=0&id=42c01134&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessSignOut.vue?vue&type=style&index=0&id=42c01134&scoped=true&lang=css&\""],"sourceRoot":""}